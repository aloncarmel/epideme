<!-- Create a personal report -->


<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.79.0">
    <title>Create Epideme Report</title>

    <!-- Bootstrap core CSS -->
<!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
 


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.0.0/crypto-js.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/typeahead.js/0.11.1/typeahead.bundle.min.js" integrity="sha512-qOBWNAMfkz+vXXgbh0Wz7qYSLZp6c14R0bZeVX2TdQxWpuKr6yHjBIM69fcF8Ve4GUX6B6AKRQJqiiAmwvmUmQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css" integrity="sha384-lZN37f5QGtY3VHgisS14W3ExzMWZxybE1SJSEsQp9S+oqd12jhcu+A56Ebc1zFSJ" crossorigin="anonymous">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.full.min.js" integrity="sha512-AIOTidJAcHBH2G/oZv9viEGXRqDNmfdPVPYOYKGy3fti0xIplnlgMHUGfuNRzC6FkzIo0iIxgFnr9RikFxK+sw==" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-datetimepicker/2.5.20/jquery.datetimepicker.min.css" integrity="sha512-f0tzWhCwVFS3WeYaofoLWkTP62ObhewQ1EZn65oSYDZUg1+CyywGKkWzm8BxaJj5HGKI72PnMH9jYyIFz+GH7g==" crossorigin="anonymous" />

<script src="https://maps.googleapis.com/maps/api/js?libraries=geometry,places&key=AIzaSyAwZqEcCFdeOAvDCJLYlUsng5acjj0_Edw" defer></script>

<script src="assets/epideme.js"></script>
<link href="assets/main.css" rel="stylesheet" >


</head>
  <body class="bg-light">
    
<div class="container">
  <main>
    <div class="py-5 text-center" id="welcometext">
      <img class="d-block mx-auto mb-4" src="assets/headericon.png" alt="" width="72" height="72">
      <h2>Create a new epideme report</h2>
      <p class="lead">Create your personal Epidemiology investigation report by adding your event details below.<br>
        Every event is added based on time,location and person you've been contact with.</p>
    </div>

    <div class="py-5 text-center" id="printtext" style="display:none">
      <img class="d-block mx-auto mb-4" src="assets/headericon.png" alt="" width="72" height="72">
      <h2 id="printtextheader"></h2>
      <p id="leadprinttext" class="lead"></p>
    </div>

    <div class="row g-3">
      <div class="col-md-5 col-lg-4 order-md-last">
        <h4 class="d-flex justify-content-between align-items-center mb-3">
          <span class="text-muted">üßí Your details</span>
        </h4>
        <ul class="list-group mb-3">
          <li class="list-group-item d-flex justify-content-between lh-sm">
            <div>
              <h6 class="my-0">Name</h6>
              <small id="name" class="text-muted"></small>
            </div>
          </li>
          <li class="list-group-item d-flex justify-content-between lh-sm">
            <div>
              <h6 class="my-0">Date</h6>
              <small class="text-muted" id="creationdate"></small>
            </div>
          </li>
          
        </ul>

        <form id="printreportbutton" class="card p-2">
   
            <button  type="submit" class="btn btn-success printReport">Print report</button>
            <small>Please note, once you click print your report will become uneditable.</small>
        </form>
      </div>
      <div class="col-md-7 col-lg-8">
        <h4 class="mb-3">‚è∞ My epidemiology event timeline</h4>
        <ol id="events"></ol>
        
        <div class="card" id="addeventbox">
            <div class="card-header">
                üó£ &nbsp;Add a new event to your epideme timeline
              </div>
            <div class="card-body">

                <div class="row">
                    <div class="col-7">
                   
                      <p class="card-text">Add a new event to your timeline, add a location or a person</p>
                      <a href="#" data-bs-toggle="modal" data-bs-target="#personmodal" class="card-link">üßí&nbsp;&nbsp;Add person</a>
                      <ul id="appendPerson"></ul>

                      <a href="#" data-bs-toggle="modal" data-bs-target="#locationmodal" class="card-link addlocationlink">üó∫ &nbsp;Add location</a>
                      <div id="appendAddress" class="mb-3"></div>
                     
                      <a href="#" data-bs-toggle="modal" data-bs-target="#datetimemodal" class="card-link addtimelink">üóì &nbsp;Add time and date</a>
                      <div unix="" id="appendTimeDate"></div>


                    </div>
                    <div class="col-5 text-right">
                      <div id="appendLocation"></div>
                  </div>
                </div>
            
            </div>
            <div class="card-footer">
                <button type="submit" class="btn btn-primary addReport">Add to my timeline</button>
                <button type="submit" onclick="epideme.resetReportBox()" class="btn btn-link text-decoration-none">Clear details</button>
              </div>
          </div>

      </div>
    </div>
  </main>

  <footer class="my-5 pt-5 text-muted text-center text-small">
    <p class="mb-1">&copy; 2020 Epideme Epidemiology Framework</p>
    <ul class="list-inline">
      <li class="list-inline-item"><a href="https://github.com/aloncarmel/epideme">https://github.com/aloncarmel/epideme</a></li>
    </ul>
  </footer>
</div>



<script>

    $(document).ready(function(){

        epideme.initReport();

    })

</script>


<!-- location modal -->

<div class="modal fade" id="locationmodal" tabindex="-1" aria-labelledby="locationmodal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add a location to my epideme timeline</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <input type="text" class="form-control text-right mb-3" id="location"
            placeholder="Search for an address and pinpoint the location" required>

             <div id="map"></div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>



<!-- person modal -->

<div class="modal fade" id="personmodal" tabindex="-1" aria-labelledby="personmodal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add a person you've encountered</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
            <input type="text" class="form-control text-right mb-3" id="personname"
            placeholder="Person full name" required>
            <input type="text" class="form-control text-right mb-3" id="personphonenumber"
            placeholder="Phone number">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary addPerson" data-bs-dismiss="modal">Add person</button>

        </div>
      </div>
    </div>
  </div>



<!-- time date modal -->

<div class="modal fade" id="datetimemodal" tabindex="-1" aria-labelledby="datetimemodal" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add date and time of event</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <input type="text" class="form-control text-right mb-3" id="datetimepicker3"
          placeholder="Phone number">
          <script>
            $('#datetimepicker3').datetimepicker({
              format:'unixtime',
              inline:true,
              onChangeDateTime:function(dp,$input){

                var dateObj = new Date(dp);
                var momentObj = moment(dateObj);
                //var momentString = momentObj.format('YYYY-MM-DD'); // 2016-07-15
                $('#datetime').val(dp);
                $('#datetimeunix').val(momentObj.unix());

              }
            });
          </script>

        <input type="hidden" class="form-control text-right mb-3" id="datetime">
        <input type="hidden" class="form-control text-right mb-3" id="datetimeunix">

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary addDateTime" data-bs-dismiss="modal">Add Date and time</button>

        </div>
      </div>
    </div>
  </div>

</body>
</html>
